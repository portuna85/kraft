# Kraft - Spring Boot ê²Œì‹œíŒ ì• í”Œë¦¬ì¼€ì´ì…˜

[![Spring Boot](https://img.shields.io/badge/Spring%20Boot-3.5.8-brightgreen.svg)](https://spring.io/projects/spring-boot)
[![Java](https://img.shields.io/badge/Java-21-orange.svg)](https://www.oracle.com/java/)
[![License](https://img.shields.io/badge/License-MIT-blue.svg)](LICENSE)

Spring Boot 3.5.8 ê¸°ë°˜ì˜ í˜„ëŒ€ì ì¸ ê²Œì‹œíŒ ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤.

## ğŸ“‹ ëª©ì°¨

- [ì£¼ìš” ê¸°ëŠ¥](#-ì£¼ìš”-ê¸°ëŠ¥)
- [ê¸°ìˆ  ìŠ¤íƒ](#-ê¸°ìˆ -ìŠ¤íƒ)
- [í”„ë¡œì íŠ¸ êµ¬ì¡°](#-í”„ë¡œì íŠ¸-êµ¬ì¡°)
- [ì‹œì‘í•˜ê¸°](#-ì‹œì‘í•˜ê¸°)
- [API ë¬¸ì„œ](#-api-ë¬¸ì„œ)
- [í…ŒìŠ¤íŠ¸](#-í…ŒìŠ¤íŠ¸)
- [ë°°í¬](#-ë°°í¬)
- [ë¼ì´ì„ ìŠ¤](#-ë¼ì´ì„ ìŠ¤)

## âœ¨ ì£¼ìš” ê¸°ëŠ¥

### ì‚¬ìš©ì ê´€ë¦¬
- íšŒì›ê°€ì… / ë¡œê·¸ì¸ / ë¡œê·¸ì•„ì›ƒ
- í”„ë¡œí•„ ìˆ˜ì • (ì´ë©”ì¼, ë¹„ë°€ë²ˆí˜¸)
- íšŒì› íƒˆí‡´
- Redis ê¸°ë°˜ ì„¸ì…˜ ê´€ë¦¬

### ê²Œì‹œê¸€ ê´€ë¦¬
- CRUD (ìƒì„±, ì¡°íšŒ, ìˆ˜ì •, ì‚­ì œ)
- í˜ì´ì§€ë„¤ì´ì…˜
- ì¡°íšŒìˆ˜ ì¹´ìš´íŠ¸
- ê²€ìƒ‰ ê¸°ëŠ¥
- ì¹´í…Œê³ ë¦¬ë³„ ë¶„ë¥˜

### ëŒ“ê¸€ ì‹œìŠ¤í…œ
- ëŒ“ê¸€ ì‘ì„± / ìˆ˜ì • / ì‚­ì œ
- ëŒ€ëŒ“ê¸€ (ë‹µê¸€) ê¸°ëŠ¥
- ëŒ“ê¸€ í˜ì´ì§€ë„¤ì´ì…˜
- ëŒ“ê¸€ ìˆ˜ í‘œì‹œ

### ì¹´í…Œê³ ë¦¬
- ì¹´í…Œê³ ë¦¬ CRUD (ê´€ë¦¬ì ì „ìš©)
- ì¹´í…Œê³ ë¦¬ë³„ ê²Œì‹œê¸€ ì¡°íšŒ
- í‘œì‹œ ìˆœì„œ ê´€ë¦¬

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ

### Backend
- **Framework**: Spring Boot 3.5.8
- **Language**: Java 21
- **Build Tool**: Gradle 9.2.1
- **ORM**: Spring Data JPA
- **Database**: MariaDB 11.6
- **Migration**: Flyway 10.x
- **Cache/Session**: Redis 7.4
- **Security**: Spring Security 6.x

### Frontend
- Thymeleaf (í…œí”Œë¦¿ ì—”ì§„)

### DevOps
- Docker & Docker Compose
- GitHub Actions (CI/CD)

### Testing
- JUnit 5
- Mockito
- H2 Database (í…ŒìŠ¤íŠ¸ìš©)
- Spring Boot Test

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
src/
â”œâ”€â”€ main/
â”‚   â”œâ”€â”€ java/com/kraft/
â”‚   â”‚   â”œâ”€â”€ common/              # ê³µí†µ ëª¨ë“ˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ entity/          # BaseEntity
â”‚   â”‚   â”‚   â”œâ”€â”€ enums/           # Role ë“± Enum
â”‚   â”‚   â”‚   â””â”€â”€ exception/       # ì „ì—­ ì˜ˆì™¸ ì²˜ë¦¬
â”‚   â”‚   â”œâ”€â”€ config/              # ì„¤ì • í´ë˜ìŠ¤
â”‚   â”‚   â”‚   â””â”€â”€ auth/            # ë³´ì•ˆ ì„¤ì •
â”‚   â”‚   â”œâ”€â”€ domain/              # ë„ë©”ì¸ ëª¨ë¸
â”‚   â”‚   â”‚   â”œâ”€â”€ user/            # ì‚¬ìš©ì
â”‚   â”‚   â”‚   â”œâ”€â”€ post/            # ê²Œì‹œê¸€
â”‚   â”‚   â”‚   â”œâ”€â”€ comment/         # ëŒ“ê¸€
â”‚   â”‚   â”‚   â””â”€â”€ category/        # ì¹´í…Œê³ ë¦¬
â”‚   â”‚   â”œâ”€â”€ service/             # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”‚   â””â”€â”€ web/                 # ì›¹ ê³„ì¸µ
â”‚   â”‚       â”œâ”€â”€ api/             # REST API
â”‚   â”‚       â””â”€â”€ dto/             # DTO
â”‚   â””â”€â”€ resources/
â”‚       â”œâ”€â”€ db/migration/        # Flyway ë§ˆì´ê·¸ë ˆì´ì…˜
â”‚       â””â”€â”€ application.yml      # ì„¤ì • íŒŒì¼
â””â”€â”€ test/                        # í…ŒìŠ¤íŠ¸ ì½”ë“œ
```

### ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Presentation Layer            â”‚
â”‚  (Controller, API, DTO)                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Service Layer                 â”‚
â”‚  (Business Logic)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Repository Layer              â”‚
â”‚  (Data Access, JPA)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Database                      â”‚
â”‚  (MariaDB, Redis)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ ì‹œì‘í•˜ê¸°

### í•„ìˆ˜ ìš”êµ¬ì‚¬í•­

- Java 21 ì´ìƒ
- Docker & Docker Compose
- Gradle 9.x (Wrapper í¬í•¨)

### í™˜ê²½ ì„¤ì •

1. **ì €ì¥ì†Œ í´ë¡ **
```bash
git clone https://github.com/portuna85/kraft.git
cd kraft
```

2. **í™˜ê²½ ë³€ìˆ˜ ì„¤ì •**
```bash
# .env íŒŒì¼ ìƒì„±
cp .env.example .env

# .env íŒŒì¼ í¸ì§‘ (DB ì •ë³´, Redis ì •ë³´ ë“±)
```

3. **Docker ì»¨í…Œì´ë„ˆ ì‹¤í–‰**
```bash
docker-compose up -d
```

4. **ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰**
```bash
# ê°œë°œ í™˜ê²½
./gradlew bootRun --args='--spring.profiles.active=dev'

# ë˜ëŠ”
./gradlew build
java -jar build/libs/kraft-0.0.1-SNAPSHOT.jar
```

### ì ‘ì† ì •ë³´

- **ì• í”Œë¦¬ì¼€ì´ì…˜**: http://localhost:8080
- **H2 Console** (dev): http://localhost:8080/h2-console
- **MariaDB**: localhost:3306
- **Redis**: localhost:6379

## ğŸ“š API ë¬¸ì„œ

### ì‚¬ìš©ì API

| Method | Endpoint | Description | Auth |
|--------|----------|-------------|------|
| POST | `/api/users/signup` | íšŒì›ê°€ì… | âŒ |
| POST | `/api/users/login` | ë¡œê·¸ì¸ | âŒ |
| POST | `/api/users/logout` | ë¡œê·¸ì•„ì›ƒ | âœ… |
| GET | `/api/users/profile` | í”„ë¡œí•„ ì¡°íšŒ | âœ… |
| PUT | `/api/users/profile` | í”„ë¡œí•„ ìˆ˜ì • | âœ… |
| PUT | `/api/users/password` | ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ | âœ… |
| DELETE | `/api/users` | íšŒì› íƒˆí‡´ | âœ… |

### ê²Œì‹œê¸€ API

| Method | Endpoint | Description | Auth |
|--------|----------|-------------|------|
| POST | `/api/v1/posts` | ê²Œì‹œê¸€ ì‘ì„± | âœ… |
| GET | `/api/v1/posts/{id}` | ê²Œì‹œê¸€ ì¡°íšŒ | âŒ |
| PUT | `/api/v1/posts/{id}` | ê²Œì‹œê¸€ ìˆ˜ì • | âœ… |
| DELETE | `/api/v1/posts/{id}` | ê²Œì‹œê¸€ ì‚­ì œ | âœ… |
| GET | `/api/v1/posts` | ê²Œì‹œê¸€ ëª©ë¡ (í˜ì´ì§•) | âŒ |
| GET | `/api/v1/posts/search` | ê²Œì‹œê¸€ ê²€ìƒ‰ | âŒ |
| GET | `/api/v1/posts/popular` | ì¸ê¸° ê²Œì‹œê¸€ | âŒ |

### ëŒ“ê¸€ API

| Method | Endpoint | Description | Auth |
|--------|----------|-------------|------|
| POST | `/api/v1/posts/{postId}/comments` | ëŒ“ê¸€ ì‘ì„± | âœ… |
| POST | `/api/v1/posts/{postId}/comments/{parentId}/replies` | ë‹µê¸€ ì‘ì„± | âœ… |
| PUT | `/api/v1/posts/{postId}/comments/{id}` | ëŒ“ê¸€ ìˆ˜ì • | âœ… |
| DELETE | `/api/v1/posts/{postId}/comments/{id}` | ëŒ“ê¸€ ì‚­ì œ | âœ… |
| GET | `/api/v1/posts/{postId}/comments` | ëŒ“ê¸€ ëª©ë¡ | âŒ |
| GET | `/api/v1/posts/{postId}/comments/page` | ëŒ“ê¸€ í˜ì´ì§• | âŒ |

### ì¹´í…Œê³ ë¦¬ API

| Method | Endpoint | Description | Auth |
|--------|----------|-------------|------|
| GET | `/api/v1/categories` | ì¹´í…Œê³ ë¦¬ ëª©ë¡ | âŒ |
| GET | `/api/v1/categories/{id}` | ì¹´í…Œê³ ë¦¬ ì¡°íšŒ | âŒ |
| POST | `/api/v1/categories` | ì¹´í…Œê³ ë¦¬ ìƒì„± | ğŸ”’ ADMIN |
| PUT | `/api/v1/categories/{id}` | ì¹´í…Œê³ ë¦¬ ìˆ˜ì • | ğŸ”’ ADMIN |
| DELETE | `/api/v1/categories/{id}` | ì¹´í…Œê³ ë¦¬ ì‚­ì œ | ğŸ”’ ADMIN |

## ğŸ§ª í…ŒìŠ¤íŠ¸

### í…ŒìŠ¤íŠ¸ ì‹¤í–‰

```bash
# ì „ì²´ í…ŒìŠ¤íŠ¸
./gradlew test

# íŠ¹ì • í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤
./gradlew test --tests UserServiceTest

# í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ ë¦¬í¬íŠ¸
./gradlew test jacocoTestReport
```

### í…ŒìŠ¤íŠ¸ í†µê³„

- **ì´ í…ŒìŠ¤íŠ¸**: 91ê°œ
- **Repository í…ŒìŠ¤íŠ¸**: 25ê°œ
- **Service í…ŒìŠ¤íŠ¸**: 45ê°œ
- **Controller í…ŒìŠ¤íŠ¸**: 21ê°œ
- **ì»¤ë²„ë¦¬ì§€**: 100% (í†µê³¼)

## ğŸ—„ ë°ì´í„°ë² ì´ìŠ¤

### ERD

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    users    â”‚â”€â”€â”€â”€â”¬â”€â”€â”€<â”‚    posts    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚           â”‚
                   â”‚           â”‚
                   â”‚    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
                   â””â”€â”€â”€<â”‚  comments   â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                        â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
                        â”‚ categories  â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Flyway ë§ˆì´ê·¸ë ˆì´ì…˜

| Version | Description |
|---------|-------------|
| V1 | ì‚¬ìš©ì í…Œì´ë¸” ìƒì„± |
| V2 | ê²Œì‹œê¸€ í…Œì´ë¸” ìƒì„± |
| V3 | Baseline |
| V4 | ì¡°íšŒìˆ˜ í•„ë“œ ì¶”ê°€ |
| V5 | ëŒ“ê¸€ í…Œì´ë¸” ìƒì„± |
| V6 | ëŒ€ëŒ“ê¸€ ê¸°ëŠ¥ ì¶”ê°€ |
| V7 | ì¹´í…Œê³ ë¦¬ í…Œì´ë¸” ìƒì„± |

## ğŸ³ Docker

### Docker Compose êµ¬ì„±

```yaml
services:
  - MariaDB 11.6
  - Redis 7.4
```

### Docker ëª…ë ¹ì–´

```bash
# ì»¨í…Œì´ë„ˆ ì‹œì‘
docker-compose up -d

# ì»¨í…Œì´ë„ˆ ì¤‘ì§€
docker-compose down

# ë¡œê·¸ í™•ì¸
docker-compose logs -f

# ì „ì²´ ì´ˆê¸°í™” (ë°ì´í„° ì‚­ì œ)
docker-compose down -v
docker volume prune -f
```

## ğŸ”’ ë³´ì•ˆ

- **ì¸ì¦**: Spring Security + Redis Session
- **ë¹„ë°€ë²ˆí˜¸**: BCrypt ì•”í˜¸í™”
- **CSRF**: ê°œë°œ í™˜ê²½ì—ì„œëŠ” ë¹„í™œì„±í™”, í”„ë¡œë•ì…˜ì—ì„œ í™œì„±í™”
- **ê¶Œí•œ**: Role ê¸°ë°˜ ì ‘ê·¼ ì œì–´ (USER, ADMIN)

## ğŸ“ ê°œë°œ ê°€ì´ë“œ

### ì½”ë”© ì»¨ë²¤ì…˜

- Java 21 ìµœì‹  ê¸°ëŠ¥ í™œìš©
- Record í´ë˜ìŠ¤ ì‚¬ìš© (DTO)
- Lombok ì ê·¹ í™œìš©
- Builder íŒ¨í„´ ì‚¬ìš©
- SOLID ì›ì¹™ ì¤€ìˆ˜

### ì»¤ë°‹ ë©”ì‹œì§€ ê·œì¹™

```
feat: ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€
fix: ë²„ê·¸ ìˆ˜ì •
docs: ë¬¸ì„œ ìˆ˜ì •
style: ì½”ë“œ í¬ë§·íŒ…
refactor: ì½”ë“œ ë¦¬íŒ©í„°ë§
test: í…ŒìŠ¤íŠ¸ ì½”ë“œ
chore: ë¹Œë“œ ì„¤ì • ë“±
```

### ë¸Œëœì¹˜ ì „ëµ

```
main        (í”„ë¡œë•ì…˜)
  â””â”€ develop   (ê°œë°œ)
      â”œâ”€ feature/*   (ê¸°ëŠ¥)
      â”œâ”€ hotfix/*    (ê¸´ê¸‰ ìˆ˜ì •)
      â””â”€ release/*   (ë¦´ë¦¬ìŠ¤)
```

## ğŸš€ ë°°í¬

### í™˜ê²½ë³„ ì„¤ì •

- **local**: ë¡œì»¬ ê°œë°œ í™˜ê²½
- **dev**: ê°œë°œ ì„œë²„
- **prod**: í”„ë¡œë•ì…˜ ì„œë²„

### ë¹Œë“œ

```bash
# JAR ë¹Œë“œ
./gradlew clean build

# Docker ì´ë¯¸ì§€ ë¹Œë“œ
docker build -t kraft:latest .
```

## ğŸ“„ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” MIT ë¼ì´ì„ ìŠ¤ë¥¼ ë”°ë¦…ë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ [LICENSE](LICENSE) íŒŒì¼ì„ ì°¸ì¡°í•˜ì„¸ìš”.

## ğŸ‘¥ ê¸°ì—¬

1. Fork the Project
2. Create your Feature Branch (`git checkout -b feature/AmazingFeature`)
3. Commit your Changes (`git commit -m 'feat: Add some AmazingFeature'`)
4. Push to the Branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

## ğŸ“§ ì—°ë½ì²˜

- GitHub: [@portuna85](https://github.com/portuna85)
- Email: portuna85@gmail.com

## ğŸ™ ê°ì‚¬ì˜ ê¸€

ì´ í”„ë¡œì íŠ¸ëŠ” Spring Bootì™€ ê´€ë ¨ëœ ë‹¤ì–‘í•œ ì˜¤í”ˆì†ŒìŠ¤ í”„ë¡œì íŠ¸ë“¤ì˜ ë„ì›€ì„ ë°›ì•„ ë§Œë“¤ì–´ì¡ŒìŠµë‹ˆë‹¤.

---

â­ï¸ ì´ í”„ë¡œì íŠ¸ê°€ ë„ì›€ì´ ë˜ì…¨ë‹¤ë©´ Starë¥¼ ëˆŒëŸ¬ì£¼ì„¸ìš”!

